{
  "type": "object",
  "properties": {
    "bLength": {
      "$ref": "types.schema.json#/$defs/usbByte"
    },
    "bDescriptorType": {
      "$ref": "types.schema.json#/$defs/usbByte"
    },
    "bDevCapabilityType": {
      "$ref": "types.schema.json#/$defs/usbByte"
    },
    "USB 2.0 Extension": {
      "$ref": "usb_2_0_extension.schema.json"
    },
    "SuperSpeed USB": {
      "$ref": "superspeed_usb.schema.json"
    },
    "daDevCapability": {
      "$ref": "types.schema.json#/$defs/daUsbBytes"
    }
  },
  "required": [
    "bLength",
    "bDescriptorType",
    "bDevCapabilityType"
  ],
  "if": {
    "properties": {
      "bDevCapabilityType": {
        "const": 2
      }
    },
    "required": [
      "bDevCapabilityType"
    ]
  },
  "then": {
    "required": [
      "USB 2.0 Extension"
    ],
    "not": {
      "required": [
        "SuperSpeed USB",
        "daDevCapability"
      ]
    }
  },
  "else": {
    "if": {
      "properties": {
        "bDevCapabilityType": {
          "const": 3
        }
      },
      "required": [
        "bDevCapabilityType"
      ]
    },
    "then": {
      "required": [
        "SuperSpeed USB"
      ],
      "not": {
        "required": [
          "USB 2.0 Extension",
          "daDevCapability"
        ]
      }
    }
  }
}